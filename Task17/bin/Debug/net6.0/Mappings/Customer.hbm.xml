<?xml version = "1.0" encoding = "utf-8" ?>
<hibernate-mapping xmlns = "urn:nhibernate-mapping-2.2"
                   assembly = "Task17" namespace = "Task17.Domain">

    <class name = "Customer" table="testdb.customers">
        <id name = "Id">
            <generator class = "sequence">
                <param name="sequence">testdb.customer_id_seq</param>
            </generator>
        </id>

        <property name = "FirstName"/>
        <property name = "LastName"/>
        <property name = "AverageRating"/>
        <property name = "Points"/>
        <property name = "HasGoldStatus"/>
        <property name = "MemberSince" type = "date"/>
        <property name = "CreditRating"/>

        <component name = "Address">
            <property name = "Street"/>
            <property name = "City"/>
            <property name = "Province"/>
            <property name = "Country"/>
        </component>

        <set name = "Orders" table = "`Order`" cascade="save-update">
            <key column = "CustomerId"/>
            <one-to-many class = "Order"/>
        </set>

    </class>
</hibernate-mapping>